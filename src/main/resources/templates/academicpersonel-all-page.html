<!DOCTYPE html>
<html>

<head>
	<title>All Academic Personel</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
	<style>
		.content-container {
			display: flex;
			justify-content: center;
			align-items: center;
			height: 40vh;
		}

		.footer-container {
			display: flex;
			justify-content: flex-end;
			padding: 5 20px;
		}

		table {
			border-collapse: collapse;
			width: 100%;
		}

		th,
		td {
			text-align: left;
			padding: 8px;
		}

		th {
			background-color: #f2f2f2;
		}

		tr:nth-child(even) {
			background-color: #f2f2f2;
		}
		
		#translateToEnglishButton,
    	#translateToLatvianButton {
        	margin-left: 10px;
        	border: none;
        	border-radius: 5px;
        	cursor: pointer;
    	}
    	
    	button#translateToEnglishButton:hover,
		button#translateToLatvianButton:hover {
		    background-color: darkorange;
		}
	</style>
</head>

<body>
	<header id="header">
		<nav class="navbar bg-dark navbar-expand-md mb-3" data-bs-theme="dark">
			
			<button id="translateToEnglishButton" style="display: flex; align-items: center; font-size: 24px;">
			    <img src="https://emojigraph.org/media/apple/flag-united-kingdom_1f1ec-1f1e7.png" alt="EN" style="width: 1em; height: 1em;">
			</button>
			<button id="translateToLatvianButton" style="display: flex; align-items: center; font-size: 24px;">
			    <img src="https://emojigraph.org/media/apple/flag-latvia_1f1f1-1f1fb.png" alt="LV" style="width: 1em; height: 1em;">
			</button>
			
			<div class="container">
				<span class="navbar-brand mb-0 h1" data-translation="Gala Darbs">Gala Darbs</span>
				<ul class="navbar-nav">
					<li class="nav-item">
						<a class="nav-link" href="/" data-translation="Sākumlapa">Sākumlapa</a>
					</li>

					<li class="nav-item dropdown">
						<a class="nav-link dropdown-toggle" href="#" id="courseDropdown" role="button"
							data-bs-toggle="dropdown" aria-expanded="false" data-translation="Kurss">
							Kurss
						</a>
						<ul class="dropdown-menu" aria-labelledby="courseDropdown">
							<li><a class="dropdown-item" href="/course/showAll" data-translation="Visi Kursi">Visi Kursi</a></li>
							<li><a class="dropdown-item" href="/course/addNew" data-translation="Pievienot Kursu">Pievienot Kursu</a></li>
						</ul>
					</li>

					<li class="nav-item dropdown">
						<a class="nav-link dropdown-toggle" href="#" id="personDropdown" role="button"
							data-bs-toggle="dropdown" aria-expanded="false" data-translation="Persona">
							Persona
						</a>
						<ul class="dropdown-menu" aria-labelledby="personDropdown">
							<li><a class="dropdown-item" href="/Person/All" data-translation="Visas personas">Visas personas</a></li>
							<li><a class="dropdown-item" href="/Person/AddPage" data-translation="Pievienot personu">Pievienot personu</a></li>
						</ul>
					</li>

					<li class="nav-item dropdown">
						<a class="nav-link dropdown-toggle" href="#" id="academicPersonelDropdown" role="button"
							data-bs-toggle="dropdown" aria-expanded="false" data-translation="Akadēmiskais personāls">
							Akadēmiskais personāls
						</a>
						<ul class="dropdown-menu" aria-labelledby="academicPersonelDropdown">
							<li><a class="dropdown-item" href="/academicPersonel/showAll" data-translation="Viss akadēmiskais personāls">Viss akadēmiskais personāls</a></li>
							<li><a class="dropdown-item" href="/academicPersonel/addNew" data-translation="Pievienot akadēmisko personālu">Pievienot akadēmisko personālu</a></li>
						</ul>
					</li>

					<li class="nav-item dropdown">
						<a class="nav-link dropdown-toggle" href="#" id="thesisDropdown" role="button"
							data-bs-toggle="dropdown" aria-expanded="false" data-translation="Diplomdarbs">
							Diplomdarbs
						</a>
						<ul class="dropdown-menu" aria-labelledby="thesisDropdown">
							<li><a class="dropdown-item" href="/thesis/showAll" data-translation="Visi diplomdarbi">Visi diplomdarbi</a></li>
							<li><a class="dropdown-item" href="/thesis/addNew" data-translation="Pievienot diplomdarbu">Pievienot diplomdarbu</a></li>
						</ul>
					</li>
					
					<li class="nav-item dropdown">
						<a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button"
							data-bs-toggle="dropdown" aria-expanded="false" data-translation="Lietotājs">
							Lietotājs
						</a>
						<ul class="dropdown-menu" aria-labelledby="userDropdown">
							<li><a class="dropdown-item" href="/User/showAll" data-translation="Visi lietotāji">Visi lietotāji</a></li>
							<li><a class="dropdown-item" href="/User/addNew" data-translation="Pievienot lietotāju">Pievienot lietotāju</a></li>
						</ul>
					</li>
					
					<li class="nav-item dropdown">
						<a class="nav-link dropdown-toggle" href="#" id="commentDropdown" role="button"
							data-bs-toggle="dropdown" aria-expanded="false" data-translation="Komentārs">
							Komentārs
						</a>
						<ul class="dropdown-menu" aria-labelledby="commentDropdown">
							<li><a class="dropdown-item" href="/comment/showAll" data-translation="Visi komentāri">Visi komentāri</a></li>
							<li><a class="dropdown-item" href="/comment/addNew" data-translation="Pievienot komentāru">Pievienot komentāru</a></li>
						</ul>
					</li>
					<li class="nav-item dropdown">
						<a class="nav-link dropdown-toggle" href="#" id="commentDropdown" role="button"
							data-bs-toggle="dropdown" aria-expanded="false" data-translation="Students">
							Students
						</a>
						<ul class="dropdown-menu" aria-labelledby="commentDropdown">
							<li><a class="dropdown-item" href="/Student/All" data-translation="Visi studenti">Visi studenti</a></li>
							<li><a class="dropdown-item" href="/Student/AddPage" data-translation="Pievienot studentu">Pievienot studentu</a></li>
						</ul>
					</li>

				</ul>
			</div>
		</nav>
	</header>

	<div class="container">
		<h1 data-translation="Viss akadēmiskais personāls">Viss akadēmiskais personāls</h1>
		<table class="table table-striped">
			<thead>
				<tr>
					<th data-translation="ID">ID</th>
					<th data-translation="Vārds">Vārds</th>
					<th data-translation="Uzvārds">Uzvārds</th>
					<th data-translation="Personas kods">Personas kods</th>
					<th data-translation="Grāds">Grāds</th>
					<th data-translation="Rādīt pēc ID">Rādīt pēc ID</th>
					<th data-translation="Darbība">Darbība</th>
				</tr>
			</thead>

			<tbody>
				<tr th:each="academicPersonel : ${MyAcademiPersonels}">
					<td th:text="${academicPersonel.idp}"></td>
					<td th:text="${academicPersonel.name}"></td>
					<td th:text="${academicPersonel.surname}"></td>
					<td th:text="${academicPersonel.personcode}"></td>
					<td th:text="${academicPersonel.degree}"></td>
					<td>
						<a th:href="@{/academicPersonel/showAll/{id}(id=${academicPersonel.idp})}"
							class="btn btn-primary" data-translation="Skatīt detaļas">Skatīt detaļas</a>
					</td>
					<td>
						<div class="btn-group">
							<a th:href="@{/academicPersonel/remove/{id}(id=${academicPersonel.idp})}"
								class="btn btn-danger" data-translation="Dzēst">Dzēst</a>
							<a th:href="@{/academicPersonel/update/{id}(id=${academicPersonel.idp})}"
								class="btn btn-primary" data-translation="Atjaunināt">Atjaunināt</a>
						</div>
					</td>
				</tr>
			</tbody>
		</table>
	</div>

	<footer class="mt-5 py-5" style="background-color: darkgreen; color: white;">
		<div class="container">
			<div class="footer-container">
				<h4>Rolands Safonovs, Rendijs Šerna</h4>
			</div>
			<div class="footer-container">
				<p>VeA, 2023</p>
			</div>
		</div>
	</footer>
	
	<script>
	    document.addEventListener("DOMContentLoaded", function() {
	        var translateToEnglishButton = document.getElementById("translateToEnglishButton");
	        translateToEnglishButton.addEventListener("click", function() {
	            translatePage("lv", "en");
	        });
	        var translateToLatvianButton = document.getElementById("translateToLatvianButton");
	        translateToLatvianButton.addEventListener("click", function() {
	            translatePage("en", "lv");
	        });
	    });
	
	    function translatePage(langFrom, langTo) {
	        var translatedContent = document.getElementById("translatedContent");
	        
	        var elementsToTranslate = document.querySelectorAll("[data-translation]");
	
	        elementsToTranslate.forEach(function(element) {
	            var textToTranslate = element.getAttribute("data-translation");
	            translate(langFrom, langTo, textToTranslate)
	                .then(function (translatedText) {
	                    element.innerText = translatedText;
	                })
	                .catch(function (error) {
	                    console.error("Kļūda tulkojot: " + error);
	                });
	        });
	    }
	
	    function translate(langFrom, langTo, text) {
	        return new Promise(function (resolve, reject) {
	            var apiURL = "https://translation.googleapis.com/language/translate/v2?key=AIzaSyCvFy88NvIP-FXR22tlEpR_C8iXrfKANmo";
	            var data = new FormData();
	            data.append("q", text);
	            data.append("source", langFrom);
	            data.append("target", langTo);
	
	            fetch(apiURL, {
	                method: 'POST',
	                body: data,
	            })
	            .then(response => response.json())
	            .then(data => {
	                resolve(data.data.translations[0].translatedText);
	            })
	            .catch(error => {
	                reject("HTTP pieprasījuma kļūda");
	            });
	        });
	    }
	</script>
	
</body>

</html>